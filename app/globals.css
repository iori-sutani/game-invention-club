@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Remove @import and use CSS variables from next/font */
}

body {
  /* Fallback to CSS variables */
  font-family: var(--font-press-start), var(--font-dot-gothic), cursive;
  background-color: #f8dcb4; /* mario.warm */
  image-rendering: pixelated; /* Scaled images look blocky */
  -webkit-font-smoothing: none; /* No anti-aliasing for text */
  -moz-osx-font-smoothing: grayscale; /* Grayscale anti-aliasing (closest to none on Mac) */
  font-smooth: never; /* Non-standard, but good for some browsers */
}

/* Force normal weight for pixel fonts to prevent faux-bold blurring */
.font-pixel, body, h1, h2, h3, h4, h5, h6, b, strong {
  font-weight: 400 !important;
}

/* ピクセルテキストスタイル */
.pixel-text {
  /* Use variables */
  font-family: var(--font-press-start), var(--font-dot-gothic), cursive;
  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
}

/* ピクセル風ボーダー（NES風） */
.pixel-box, .pixel-corners {
  background-color: #000;
  border: 4px solid #fff;
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.2);
  color: #fff;
}

.pixel-card {
  background-color: #ffffff;
  border: 4px solid #000;
  box-shadow: 6px 6px 0 #000;
  color: #331100;
}

/* ピクセル風ボタン（マリオ風・濃いオレンジ強調） */
.pixel-button {
  position: relative;
  border: 4px solid #000;
  background-color: #e45c10; /* Mario Ground (Dark Orange) */
  color: #fff;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  box-shadow: 4px 4px 0 #000;
  transition: all 0.1s;
}

.pixel-button:active {
  transform: translate(4px, 4px);
  box-shadow: none;
}

.pixel-button-primary {
  background-color: #8b4513; /* Saddle Brown */
  color: #fff;
  border-color: #fff;
  box-shadow: 4px 4px 0 rgba(0,0,0,0.5);
}

/* フローティングアニメーション */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* グロー効果 */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(34, 211, 238, 0.5);
  }
  50% {
    box-shadow: 0 0 40px rgba(168, 85, 247, 0.8);
  }
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}

/* レトロなスクロールバー */
::-webkit-scrollbar {
  width: 16px;
  background-color: #f8dcb4;
}

::-webkit-scrollbar-track {
  background-color: #f8dcb4;
  border-left: 4px solid #331100;
}

::-webkit-scrollbar-thumb {
  background-color: #8b4513;
  border: 4px solid #f8dcb4;
  box-shadow: inset -2px -2px 0 rgba(0,0,0,0.2);
}

::-webkit-scrollbar-thumb:hover {
  background-color: #e45c10;
}

/* セレクション */
::selection {
  background: #e45c10;
  color: #fff;
}

/* CRT効果 (走査線) - 背景用 */
.scanlines-bg {
  background: linear-gradient(
    to bottom,
    rgba(18, 16, 16, 0) 50%,
    rgba(0, 0, 0, 0.05) 50%
  );
  background-size: 100% 4px;
}

/* ドット絵風背景パターン - 背景用 */
.pixel-pattern-bg {
  background-color: #f8dcb4;
  background-image: 
    linear-gradient(45deg, rgba(228, 92, 16, 0.1) 25%, transparent 25%), 
    linear-gradient(-45deg, rgba(228, 92, 16, 0.1) 25%, transparent 25%), 
    linear-gradient(45deg, transparent 75%, rgba(228, 92, 16, 0.1) 75%), 
    linear-gradient(-45deg, transparent 75%, rgba(228, 92, 16, 0.1) 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

/* NES風コンテナ */
.nes-container {
  position: relative;
  background-color: white;
  padding: 1.5rem;
  border-style: solid;
  border-width: 4px;
  border-image-slice: 2;
  border-image-width: 2;
  border-image-outset: 0;
  border-image-source: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" ?><svg version="1.1" width="5" height="5" xmlns="http://www.w3.org/2000/svg"><path d="M2 1 h1 v1 h-1 z M1 2 h1 v1 h-1 z M3 2 h1 v1 h-1 z M2 3 h1 v1 h-1 z" fill="black" /></svg>'); 
  /* Fallback or easier implementation with box-shadows is better for reliability */
  border: 4px solid #000;
  box-shadow: 
    -4px -4px 0 #000, 
    4px -4px 0 #000, 
    -4px 4px 0 #000, 
    4px 4px 0 #000;
  margin: 4px;
}

.nes-container.is-dark {
  background-color: #000;
  color: #fff;
  border-color: #fff;
  box-shadow: 
    -4px -4px 0 #fff, 
    4px -4px 0 #fff, 
    -4px 4px 0 #fff, 
    4px 4px 0 #fff;
}

/* リンクホバー効果 */
a {
  transition: all 0.2s ease;
}

/* フォーム要素 */
input, textarea, select {
  font-family: var(--font-press-start), var(--font-dot-gothic), cursive;
}

input::placeholder,
textarea::placeholder {
  color: rgba(34, 211, 238, 0.5);
}

/* レスポンシブテキストサイズ */
@media (max-width: 768px) {
  .pixel-text {
    font-size: 0.875rem;
  }
}

/* 任意の要素をドット絵風にするフィルタ */
.pixelated {
  filter: url(#pixelate);
}

/* 画像は強制的にピクセル化 */
img {
  image-rendering: pixelated;
}
